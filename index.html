<!DOCTYPE html>
<html>
<head>
    <title>漢字とタイプ</title>
    <audio src ="C:\Users\USER1\Downloads\Rocking Chair - Unicorn Heads.mp3" autoplay loop></audio>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="typing.css" />
    <audio src ="C:\Users\USER1\Downloads\猫の鳴き声1.mp3" id="missaudio"></audio>
    <audio src ="C:\Users\USER1\Downloads\猫の鳴き声1.mp3" id="correctaudio"></audio>
<script>
    var wordlist = 
    ["nakagawa",
    "memowotoru",
    "honyaniiku",
    "kotaeswotou",
    "shiwokaku",
    "motinushi",
    "mattakukinishinai",
    "omotenideru",
    "tuginohinoasa",
    "yakunitatu",
    "oosama",
    "yousuwomiru",
    "zasshinohyoushi",
    "honnomokuzi",
    "iezinituku",
    "kaitenzushi",
    "ikenwoiu",
    "shouwatoheisei",
    "shokubutunoshiyou",
    "tizukigou",
    "shokuziwosuru",
    "zidoudoa",
    "toujoujinbutu",
    "toukousuru",
    "sakumotuwosodateru",
    "dourowohashiru",
    "sensyutenn",
    "ziyuukenkyuunosakuhin",
    "shihaturessyaninoru",
    "tegamidehentousuru",
    "itidokirinojinsei",
    "syugotojutugo",
    "suimennisakuhana",
    "hatumeikaninaru",
    "kurumanobuhin",
    "otoutonoshincyou",
    "yuuzintotozanniiku",
    "dekigoto",
    "nihondaihyousensyu",
    "bunsyoumondai",
    "kurumaninoru",
    "mikannokawa",
    "huruiyakata",
    "kiwoueru",
    "huewohuku",
    "Kakigoori",
    "nangokunoshima",
    "tabiwosuru",
    "ryokucyawonomu",
    "shinbunkisya",
    "taisetunainoti",
    "shinagire",
    "kouteiwohashiru",
    "denryuukei",
    "taisenseiseki",
    "hisshidekangaeru",
    "shinkuupakku",
    "kanzinokakusuu",
    "sotugyoubunshuu",
    "honnokansou",
    "taninnosorani",
    "seibutunoshinka",
    "soudansuru",
    "taiyounohikari",
    "daiippo",
    "yuumeinasakka",
    "byoudouniwakeru",
    "zishawomeguru",
    "hutakaidatenoie",
    "shinkansennijousyasuru",
    "shiainoaite",
    "jugyounoyoshuuwosuru",
    "kokubankeshi",
    "sumibideyaku",
    "suieitaikainideru",
    "rusuban",
    "natuyasuminoyotei",
    "nyuugakushiki",
    "kinone",
    "oreiwosuru",
    "tutiwoneru",
    "tatetoyoko",
    "manshonnisumu",
    "kare-nogu",
    "ienituku",
    "mizunomiyako",
    "hiwokesu",
    "okiagaru",
    "bo-ruwoutu",
    "oudanhodou",
    "kitentosyuuten",
    "kousokudouro",
    "kuninokunsyu",
    "ryoutewohirogeru",
    "zisansuru",
    "koutuuanzen",
    "konkiduyoi",
    "tikunotaikai",
    "hiroibasyo",
    "sanchoume",
    "panyanotenin",
    "syoukaki",
    "kikanwoenchousuru",
    "hatakedesagyousuru",
    "kokugowobenkyousuru",
    "goukanakyakusen",
    "syoubaiwohazimeru",
    "janpunochakuti",
    "tugougayoi",
    "zinorenshuu",
    "youhukuwotukuru",
    "sakamitiwonoboru",
    "matiaishitu",
    "taijuuwohakaru",
    "umawoikuseisuru",
    "kitawosasu",
    "ekinimukau",
    "obentoubako",
    "obakeyashiki",
    "mamewomaku",
    "kakarikatudou",
    "hashirawotateru",
    "hutabainoomosawohakaru",
    "yadonitomaru",
    "syouwojushousuru",
    "hidaritenooyayubi",
    "hashiwowataru",
    "zounohanahanagai",
    "josyuseki",
    "shinbunhaitatu",
    "kodomobeya",
    "nihonnomukashibanashi",
    "hunegashukkousuru",
    "chuumokuwoatumeru",
    "kyouryuunokaseki",
    "daizuryouri",
    "gakkyuunomeate",
    "gurimudouwa",
    "shikakenshin",
    "isyawomezasu",
    "kusuriwonomu",
    "higashinohoukou",
    "himeiwoageru",
    "kankiganagarekomu",
    "mizuuminosuishinwohakaru",
    "yugegaagaru",
    "yamanotikakunozinja",
    "kizugutikarashukketusuru",
    "yakuhingaisya",
    "kyuukouressya",
    "nikkichouwotukeru",
    "sekaiititakaiyama",
    "taiikusai",
    "zituryokuwohakkisuru",
    "hudedekaku",
    "ikiwohaku",
    "tamawonageru",
    "todouhuken",
    "ookinanami",
    "itibunharokujuubyou",
    "hudousake",
    "kakowohanseisuru",
    "sarawoarau",
    "omiyamairi",
    "yuubinkyoku",
    "hituziwokau",
    "kireinamizuumi",
    "gyouretugadekirumise",
    "shiainosyousya",
    "ekinotikakunoginkou",
    "tegarunaundou",
    "honshuutoshikoku",
    "sekiyusuto-bu",
    "komenouka",
    "kinkoniireru",
    "inshokuten",
    "byouinniiku",
    "bunwoankisuru",
    "hikkiyougu",
    "tosyoiin",
    "yakyuuti-mu",
    "natuyasuminoziyuukenkyuu",
    "matinochuuouniarukouen",
    "aburaewokaku",
    "youmoudetukuttatebukuro",
    "kaigantikakunoie",
    "tahatawotagayasu",
    "sayuuhantainioku",
    "kyonennoharuyasumi",
    "syoubunideru",
    "tikatetuninoru",
    "daihukumotiwotaberu",
    "suizokukan",
    "riri",
    "sachi"
    ];
    var wordlistJapanese = 
    ["中川",
    "メモを取る",
    "本屋に行く",
    "答えを問う",
    "詩を書く",
    "持ち主",
    "全く気にしない",
    "表に出る",
    "次の日の朝",
    "役に立つ",
    "王様",
    "様子を見る",
    "雑誌の表紙",
    "本の目次",
    "家路につく",
    "回転寿司",
    "意見を言う",
    "昭和と平成",
    "植物の子葉",
    "地図記号",
    "食事をする",
    "自動ドア",
    "登場人物",
    "登校する",
    "作物を育てる",
    "道路を走る",
    "先取点",
    "自由研究の作品",
    "始発列車に乗る",
    "手紙で返答する",
    "一度きりの人生",
    "主語と述語",
    "水面にさく花",
    "発明家になる",
    "車の部品",
    "弟の身長",
    "友人と登山に行く",
    "出来事",
    "日本代表選手",
    "文章問題",
    "車に乗る",
    "みかんの皮",
    "古い館",
    "木を植える",
    "笛をふく",
    "かき氷",
    "南国の島",
    "旅をする",
    "緑茶を飲む",
    "新聞記者",
    "大切な命",
    "品切れ",
    "校庭を走る",
    "電流計",
    "対戦成績",
    "必死で考える",
    "真空パック",
    "漢字の画数",
    "卒業文集",
    "本の感想",
    "他人の空似",
    "生物の進化",
    "相談する",
    "太陽の光",
    "第一歩",
    "有名な作家",
    "平等に分ける",
    "自社をめぐる",
    "二階建ての家",
    "新幹線に乗車する",
    "試合の相手",
    "授業の予習をする",
    "黒板消し",
    "炭火で焼く",
    "水泳大会に出る",
    "留守番",
    "夏休みの予定",
    "入学式",
    "木の根",
    "お礼をする",
    "土を練る",
    "縦と横",
    "マンションに住む",
    "カレーの具",
    "家に着く",
    "水の都",
    "火を消す",
    "起き上がる",
    "ボールを打つ",
    "横断歩道",
    "起点と終点",
    "高速道路",
    "国の君主",
    "両手を広げる",
    "持参する",
    "交通安全",
    "根気強い",
    "地区の大会",
    "広い場所",
    "三丁目",
    "パン屋の店員",
    "消火器",
    "期間を延長する",
    "畑で作業する",
    "国語を勉強する",
    "ごうかな客船",
    "商売を始める",
    "ジャンプの着地",
    "都合がよい",
    "字の練習",
    "洋服を作る",
    "坂道をのぼる",
    "待合室",
    "体重を量る",
    "馬を育成する",
    "北を指す",
    "駅に向かう",
    "お弁当箱",
    "お化け屋敷",
    "豆をまく",
    "係活動",
    "柱をたてる",
    "二倍の重さを量る",
    "宿に泊まる",
    "賞を受賞する",
    "左手の親指",
    "橋を渡る",
    "ぞうの鼻は長い",
    "助手席",
    "新聞配達",
    "子供部屋",
    "日本の昔話",
    "船が出港する",
    "注目を集める",
    "恐竜の化石",
    "大豆料理",
    "学級のめあて",
    "グリム童話",
    "歯科検診",
    "医者を目指す",
    "薬を飲む",
    "東の方向",
    "悲鳴をあげる",
    "寒気が流れ込む",
    "湖の水深を測る",
    "湯気が上がる",
    "山の近くの神社",
    "傷口から出血する",
    "薬品会社",
    "急行列車",
    "日記帳をつける",
    "世界一高い山",
    "体育祭",
    "実力を発揮する",
    "筆で書く",
    "息を吐く",
    "球を投げる",
    "都道府県",
    "大きな波",
    "一分は六十秒",
    "ふどう酒",
    "過去を反省する",
    "皿を洗う",
    "お宮参り",
    "郵便局",
    "羊を飼う",
    "きれいな湖",
    "行列ができる店",
    "試合の勝者",
    "駅の近くの銀行",
    "手軽な運動",
    "本州と四国",
    "石油ストーブ",
    "米農家",
    "金庫に入れる",
    "飲食店",
    "病院に行く",
    "文を暗記する",
    "筆記用具",
    "図書委員",
    "野球チーム",
    "夏休みの自由研究",
    "町の中央にある公園",
    "油絵を描く",
    "羊毛で作った手袋",
    "海岸近くの家",
    "田畑を耕す",
    "左右反対に置く",
    "去年の春休み",
    "勝負に出る",
    "地下鉄に乗る",
    "大福もちを食べる",
    "水族館",
    "凛々",
    "沙茅"];
    var time_limit = 90;
    var readytime = 3;
    var score;
    var correct;
    var mistake;
    var char_num = 0;
    var word_char;
    var random;
    var newline;
    var replacewordlist = [];
    function ready(){
        readytime = 3;
        scoredis.innerHTML="";
        start_button.style.visibility ="hidden";
        var readytimer = setInterval(function(){
            count.innerHTML=readytime;
            readytime--;
            if(readytime < 0){
               clearInterval(readytimer);
                gameStart();
            }
        },1000);
    }
    function gameStart(){
        score = 0.0;
        mistake = 0;
        correct = 0;
        wordDisplay();
        var time_remaining = time_limit;
        var gametimer = setInterval(function(){
            count.innerHTML="残り時間："+time_remaining;
            time_remaining--;
            if(time_remaining <= 0){
            clearInterval(gametimer);
                finish();
            }
        },1000);
    }
    function wordDisplay(){
        random = Math.floor( Math.random() * wordlist.length );
        replacewordlist[random] = wordlist[random].replace("<br>/g","");
        newline = wordlist[random].indexOf("<");
        word.innerHTML = wordlist[random];
        japanese.innerHTML = wordlistJapanese[random];
        charInsort();
    }
    function charInsort(){
        word_char = replacewordlist[random].charAt(char_num);
    }
    function finish(){
        score = ((correct*3) - mistake);
        // Math.floor(Math.pow(correct,2) * Math.pow((correct/(correct+mistake)),5));
        scoredis.innerHTML="スコア:"+score+"点"+"<hr>正タイプ数:"+correct+"<br>ミスタイプ数:"+mistake+"<br>正答率"+(correct/(correct+mistake)*100).toFixed(1)+"%";
        count.innerHTML="";
        word.innerHTML="";
        japanese.innerHTML="";
        start_button.style.visibility ="visible";
        word_char=0;
        random = 0;
        char_num = 0;
    }
document.onkeydown = function(e) {
    if(e.keyCode == 189){
       keyStr = "-";
       }else if(e.keyCode == 188){
                keyStr = ","
                }else{
                    var keyStr = String.fromCharCode(e.keyCode);
                    keyStr = keyStr.toLowerCase();
    }
    if(keyStr == word_char){
        document.getElementById('missaudio').pause();
        document.getElementById('missaudio').currentTime = 0;
        document.getElementById('correctaudio').pause();
        document.getElementById('correctaudio').currentTime = 0;
        document.getElementById('correctaudio').play();
        word.innerHTML="<span style='color: darkcyan;'>"+wordlist[random].substr(0,char_num+1)+"</span>"+wordlist[random].substr(char_num+1,wordlist[random].length);
        char_num++;
        if(newline == char_num){
           char_num = char_num + 4;
           }
        correct++;
        charInsort();
       }else{
           document.getElementById('missaudio').pause();
           document.getElementById('missaudio').currentTime = 0;
           document.getElementById('correctaudio').pause();
           document.getElementById('correctaudio').currentTime = 0;
           mistake++;
           document.getElementById('missaudio').play();
       }
    if(char_num == wordlist[random].length){
        char_num=0;
        wordDisplay();
       }
};
 
</script>
</head>
<body>
    <div class="wrap">
        <input type="button" 
        id="start_button" 
        value="開 始"
        style="margin:5px;
               font-size:30px;
               width:200px;
               height:70px;
               background-color: rgb(245, 88, 119);
               font-weight:900;
               color:white;" 
        onclick="ready()" 
        style="text-align:center"
        >
        <div id="count"></div>
        <h1><div id="japanese"></div></h1>
        <h2><div id="word"></div></h2>
        <div id="scoredis"></div>
    </div>
    
</body>
 
</html>
